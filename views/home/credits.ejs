<!DOCTYPE html>
<html>
<head>
  <title>Webpage with SideNav and ContentArea</title>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      display: flex;
      min-height: 100vh;
      margin: 0;
      padding: 0;
    }

    .sidenav {
      height: 100vh;
      width: 250px;
      background-color: #FFFFFF; /* Green */
      /* padding-top: 20px; */
    }

    .content {
      flex: 1;
      padding: 10px;
      background-color: #F5F7FD; /* Light Gray */
    }

    .sidenav a {
      /* padding: 8px 16px; */
      text-decoration: none;
      color: black;
      display: block;
      border: #202124 1px solid;
      height: 50px;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .sidenav a#logo {

    }

    .sidenav a:hover {
      background-color: #555;
      color: white;
    }
    
    .topnav{
        display: none;
        background-color: #4CAF50;
    }
    .credit_span{
      height:100px;
      width:100px;
      display: flex;
      justify-content: center;
      align-items: center;
      
    }
    .credit_span h5{
      font-size: 60px;
    }


    @media (max-width: 900px) {
    .sidenav {
        width: 220px;
    }
    }

    @media (max-width: 750px) {
        .sidenav {
            width: 200px;
            /* display: none; */
        }

    }

    @media (max-width: 700px) {
        /* .sidenav {
            display: none;
        } */
         /* .topnav{
            display: block;
            width: 100%;
        } */

        .sidenav-toggle {
            display: block;
            padding: 8px 16px;
            text-decoration: none;
            color: white;
        } 
    }

  </style>
</head>
<body>
    <div class="topnav">
        <button class="hamburger" onclick="toggleNav()">â˜°</button>
    </div>
  <div class="sidenav">
    <a href="/home" id="logo"><h2>LOGO</h2></a>
    <a href="/home">Home</a>
    <a href="/home/credits" >Purchases & Credits</a>
    <a href="/home/products">Your Products</a>
    <a href="/home/signout" >Sign Out</a>
  </div>
  <div class="content">
    <div class="miniContent" id="credits">
      <h2>Your Credits</h2>
      <p><span><%= profileData.amazonId %></span> credits</p>
      <span class="credit_span"> <h5><%= profileData.credits %></h5></span>
      <h2>Your Purchases</h2>
      <% if (profileData.purchases.length==0) { %>
       <p>No purchases yet</p>
    <% } else { %>
        <table>
            <thead>
              <tr>
                <th>Name</th>
                <th>Date</th>
                <!-- <th>Normal link</th>
                <th>Affiliated link</th> -->
                <th>Purchased</th>
              </tr>
            </thead>
            <tbody>
                <% profileData.products.forEach(function(item) { %>
                    <tr>
                        <td>
                            <%= item.name %>
                        </td>
                        <td>
                            <%= item.dateAdded %>
                        </td>
                        <!-- <td><%= item.normalLink %></td>
                        <td><%= item.afLink %></td> -->
                        <td><%= item.purchased %></td>
                      </tr>
                    <!-- <li></li> -->
                <% }); %>
             
            </tbody>
          </table>
    <% } %>
    </div>
</div>
    
    <script>
      function changeContent(link) {
        const linkName = link.getAttribute('href').slice(1);
        const allMiniContent=document.querySelectorAll('.miniContent')
        allMiniContent.forEach(item=>{
          if(item.getAttribute('id')==`${linkName}`){
            item.style.display='block'
          }
          else{
            item.style.display='none'
          }
        })
        // const content = document.getElementById('content');
        // content.innerText = `You clicked: ${link.innerText}`;
      }
    </script>
  </div>
</body>
</html>
